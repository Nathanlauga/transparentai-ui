{% extends "commons/layout.html" %} {% from
"commons/components/card_status.html" import card_status with context %} {% from
"commons/components/card.html" import card with context %} {% from
"commons/forms/select_list.html" import select_list with context %} {% from
"commons/forms/input.html" import form_input with context %} {% block title %}{{
title }}{% endblock %}
<!-- {% block head %}{% endblock %} -->
{% block h1 %}{{ title }}{% endblock %} {% block content %} {% if
dataset.module_pandas_profiling is defined %}
<!-- Details Row -->
<div class="row">
  <div class="col-6 col-md-2">
    {{ card_status(status=dataset.module_pandas_profiling.status )}}
  </div>
  <div class="col-6 col-md-2">
    <strong>Created at:</strong> {{
    dataset.module_pandas_profiling.created_at.strftime('%Y-%m-%d')}}
  </div>
  <div class="col"></div>
</div>
<!-- End details row -->
<hr />

<!-- Components Row -->
<div class="row">
  <div class="col-12 col-sm-6">
    <form action="./analyse-dataset" method="post" class="ml-3">
      <div class="form-row mb-3">
        <div class="col-12 col-md-6">
          <div class="form-group">
            {{ select_list(name='minimal', label=_('Use minimal report'),
            list=[1,0], list_labels=[_('Yes'),_('No')], search=False,
            none_value=False, default=1) }}
            <div
              class="text-xs font-weight-bold text-gray-500 text-uppercase mb-1"
            >
              {{ _('If the dataset is very large, it could uses a lot of your
              memory.') }}
            </div>
          </div>
        </div>

        <div class="col-12 col-md-6">
          <div class="form-group">
            {{ form_input(name='nrows', label=_("(Optional) Number of rows"),
            type='number')}}
          </div>
          <div
            class="text-xs font-weight-bold text-gray-500 text-uppercase mb-1"
          >
            {{ _('If you want to use all the dataset put nothing in this
            field.') }}
          </div>
        </div>
      </div>

      <div class="form-row mt-3">
        <input type="hidden" name="_method" value="PUT" />
        <button class="btn btn-primary" type="submit">
          {{ _("Update report") }}
        </button>
      </div>
    </form>
  </div>
  <!-- Datasets modules cards -->
  {% set disable = dataset.module_pandas_profiling.status != 'loaded' %}

  <div class="col-12 col-sm-6">
    <div class="row mb-3">
      <div class="col-12">
        {{ card(text=_('See the report'),
        href='/show-report?name='+dataset.name+'.html', disable=disable,
        fa='chart-line', color='info', border_color='info', bg='white',
        complement='target="_blank"', subtext=_('Link to the html page generated
        by pandas profiling.')) }}
      </div>
    </div>
    <div class="row mb-3">
      <div class="col-12">
        {{ card(text=_('Download the report'),
        href='/show-report?name='+dataset.name+'.html', disable=disable,
        fa='download', color='info', border_color='info', bg='white',
        complement=' download='+dataset.name+'.html', subtext=_('Download the
        html page generated by pandas profiling.')) }}
      </div>
    </div>
  </div>
</div>

{% endif %} {% endblock %}

<!-- {% block footer %}{% endblock %} -->
<!-- {% block scripts %}{% endblock %} -->
