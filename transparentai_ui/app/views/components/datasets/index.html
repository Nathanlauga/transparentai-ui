<h1>Datasets</h1>

{% if session['errors'] is defined %}
<div style='color:red;'><strong>{{ session['errors'] }}</strong></div>
{% endif %}
{% if session['success'] is defined %}
<div style='color:green;'><strong>{{ session['success'] }}</strong></div>
{% endif %}


<form action="/datasets" method="post">
    <label for="name">Enter dataset name: *</label>
    <input type="text" name="name" id="name" required> <br>
    <label for="path">Enter file path:</label>
    <input type="text" name="path" id="path"> <br>
    <label for="target">Enter dataset target column: </label>
    <input type="text" name="target" id="target"><br>
    <label for="score">Enter dataset score column: </label>
    <input type="text" name="score" id="score"><br>
    <label for="model_type">Enter model type: </label>
    <input type="text" name="model_type" id="model_type"><br>
    <label for="protected_attr">Enter dataset protected attributes: </label>
    <input type="text" name="protected_attr" id="protected_attr"><br>
    <label for="model_columns">Enter dataset model columns: </label>
    <input type="text" name="model_columns" id="model_columns"><br>

    <input type="submit" value="Add dataset">
</form>

{% for dataset in instances %}
<hr>
<h3><a href="/datasets/{{dataset.name}}">{{ dataset.name }}</a></h3>
<strong>path : </strong> {{ dataset.path }} <br>
<strong>target : </strong> {{ dataset.target }} <br>
<strong>score : </strong> {{ dataset.score }} <br>
<strong>model_type : </strong> {{ dataset.model_type }} <br>
<strong>protected_attr : </strong> {{ dataset.protected_attr }} <br>
<strong>model_columns : </strong> {{ dataset.model_columns }} <br>
<strong>length : </strong> {{ dataset.length }} <br>

{% if dataset.module_pandas_profiling is defined %}
{% if dataset.module_pandas_profiling is not none %}
    <strong>Module pandas profiling : </strong> {{ dataset.module_pandas_profiling.status }} <br>
    {{ dataset.module_pandas_profiling.path }}
    <br>
{% endif %}
{% endif %}
{% if dataset.module_performance is defined %}
{% if dataset.module_performance is not none %}
    <strong>Module performance : </strong> {{ dataset.module_performance.status }} <br>
    {{ dataset.module_performance.results }}
    <br>
{% endif %}
{% endif %}
{% if dataset.module_pandas_profiling is defined %}
{% if dataset.module_bias is not none %}
    <strong>Module Bias : </strong> {{ dataset.module_bias.status }} <br>
    {{ dataset.module_bias.results }} <br>
    {{ dataset.module_bias.privileged_group }} 
    <br>
{% endif %}
{% endif %}

<form action="/datasets/{{dataset.name}}" method="post">
    <input type="hidden" name="_method" value="DELETE">
    <input type="submit" value="Delete dataset">
</form>
{% endfor %}