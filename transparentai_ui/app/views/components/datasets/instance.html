<h1>Dataset</h1>

{% if session['errors'] is defined %}
<div style='color:red;'><strong>{{ session['errors'] }}</strong></div>
{% endif %}
{% if session['success'] is defined %}
<div style='color:green;'><strong>{{ session['success'] }}</strong></div>
{% endif %}

{% if instance is defined %}
<hr>
<h3>{{ instance.name }}</h3>

<form action="/datasets/{{instance.name}}" method="post">
    <strong>Project : </strong> {{ instance.project }} <br>
    <label for="path">File path:</label>
    <input type="text" name="path" id="path" value="{{ instance.path }}"> <br>
    <label for="target">Target column: </label>
    <input type="text" name="target" id="target" value="{{ instance.target }}"><br>
    <label for="score">Score column: </label>
    <input type="text" name="score" id="score" value="{{ instance.score }}"><br>
    <label for="model_type">Model type: </label>
    <input type="text" name="model_type" id="model_type" value="{{ instance.model_type }}"><br>
    <label for="protected_attr">Protected attributes: </label>
    <input type="text" name="protected_attr" id="protected_attr" value="{{ instance.protected_attr }}"><br>
    <label for="model_columns">Model columns: </label>
    <input type="text" name="model_columns" id="model_columns" value="{{ instance.model_columns }}"><br>

    <strong>length : </strong> {{ instance.length }} <br>
    {% if instance.module_pandas_profiling is defined %}
    {% if instance.module_pandas_profiling is not none %}

        <strong>Module pandas profiling : </strong> {{ instance.module_pandas_profiling.status }} <br>
        {{ instance.module_pandas_profiling.path }}
        <br>

    {% endif %}
    {% endif %}
    {% if instance.module_performance is defined %}
    {% if instance.module_performance is not none %}
        <strong>Module performance : </strong> {{ instance.module_performance.status }} <br>
        {{ instance.module_performance.results }}
        <br>
    {% endif %}
    {% endif %}
    {% if instance.module_pandas_profiling is defined %}
    {% if instance.module_bias is not none %}
        <strong>Module Bias : </strong> {{ instance.module_bias.status }} <br>
        {{ instance.module_bias.results }} <br>
        {{ instance.module_bias.privileged_group }} 
        <br>
    {% endif %}
    {% endif %}


    <input type="hidden" name="_method" value="PUT">
    <input type="submit" value="Update dataset">

    
</form>

<form action="/datasets/{{instance.name}}" method="post">
    <input type="hidden" name="_method" value="DELETE">
    <input type="submit" value="Delete dataset">
</form>
{% endif %}